<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Archive - Emotle</title>
    <script src="header.js"></script>
    <link rel="icon" href="favicon-32x32.png">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="game-container">
        <div class="game-header">
            <a href="index.html" style="text-decoration: none;"><h1>Emotle</h1></a>
        </div>
        
        <h2>Puzzle Archive</h2>
        <div style="text-align: center; margin-top: 20px;">
            <p style="color: #b0b0b0;">Explore and play from our collection of 200 emoji puzzles.</p>
            
            <div class="archive-grid" id="archiveGrid">
                <!-- Populated by JS -->
            </div>
            
            <div style="text-align: left; line-height: 1.8; margin-top: 50px; color: #d0d0d0; border-top: 1px solid #444; padding-top: 30px;">
                <h3 style="color: #ffffff;">Why Explore the Emotle Archive?</h3>
                <p>The Emotle Archive is more than just a list of past games; it's a library of creative linguistic puzzles. Whether you missed a day or just want to challenge yourself with some of our most popular past entries, the archive is the perfect place to hone your emoji-decoding skills.</p>

                <h3 style="color: #ffffff; margin-top: 25px;">Mastering the Language of Emojis</h3>
                <p>Playing through archived puzzles allows you to recognize patterns in how emojis are used to represent complex ideas. You'll notice that we often use specific emojis as building blocks for certain concepts. For example, a üè¶ might mean "money", "safety", or "building", but when paired with a üí∞, the meaning becomes much more specific. The archive helps you build a mental "encyclopedia" of these associations.</p>

                <h3 style="color: #ffffff; margin-top: 25px;">Improve Your Daily Game Streak</h3>
                <p>Top Emotle players use the archive as a training ground. By playing past puzzles, you expose yourself to different difficulty levels. Some puzzles are literal and straightforward (Nature/Animals), while others are highly abstract or based on pop culture references. Practicing across these various categories makes you a more versatile player, increasing your chances of maintaining a long winning streak in the daily game.</p>

                <h3 style="color: #ffffff; margin-top: 25px;">Thematic Diversity</h3>
                <p>Our archive spans dozens of themes, including food and drink, technology, professions, and emotions. As you scroll through the history, you're seeing a snapshot of how we've evolved the game over time. We frequently experiment with new combinations and styles, and the archive is the only place to see the full breadth of the Emotle universe.</p>

                <p style="margin-top: 40px; text-align: center;">
                    <a href="index.html" style="background-color: #5a5a5a; color: white; padding: 10px 20px; text-decoration: none; border-radius: 5px; font-weight: bold; border: 1px solid #777;">&larr; Return to Game</a>
                </p>
            </div>
        </div>
    </div>

    <script src="game-data.js"></script>
    <script>
        function getCurrentIndex() {
            const today = new Date();
            today.setUTCHours(0, 0, 0, 0);
            const diffTime = Math.abs(today.getTime() - EPOCH_START_DATE.getTime());
            const diffDays = Math.floor(diffTime / MS_PER_DAY); 
            return diffDays % emojiPhrases.length;
        }

        const currentIndex = getCurrentIndex();
        const grid = document.getElementById('archiveGrid');

        // Show past 7 days (including today) in chronological order
        for (let i = 8; i >= 0; i--) {
            // Calculate index with wrapping
            let targetIndex = (currentIndex - i) % emojiPhrases.length;
            if (targetIndex < 0) targetIndex += emojiPhrases.length;
            
            const p = emojiPhrases[targetIndex];
            const item = document.createElement('a');
            item.href = `index.html?mode=practice&seed=${targetIndex}`;
            item.className = 'archive-item';
            item.style.textDecoration = 'none';
            item.style.display = 'block';
            
            const label = i === 0 ? "Today's Emotle" : `Emotle #${targetIndex + 1}`;
            
            item.innerHTML = `
                <span class="archive-emoji">${p.emoji}</span>
                <span class="archive-date" style="color: #87CEEB;">${label}</span>
            `;
            grid.appendChild(item);
        }
    </script>

    <script src="footer.js"></script>
    <footer class="site-footer"></footer>
</body>
</html>
